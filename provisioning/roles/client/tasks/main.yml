---
# This is a role for setting up the client.
- name: Create alias for server
  lineinfile:
    path: '/etc/hosts'
    line: '192.168.20.5 server'

- name: Install packages
  apt:
    pkg:
     - nmap
     - git
     - python3.8
     - python3-pip
     - apache2
     - net-tools
     - build-essential
     - nano
     - traceroute
     - iputils-ping
    update_cache: yes

- name: Copy buffer1
  copy:
    src: buffer1.c
    dest: /home/client/buffer1.c
    owner: user
    mode: '0711'

- name: Copy buffer2
  copy:
    src: buffer2.cpp
    dest: /home/client/buffer2.cpp
    owner: user
    mode: '0711'

- name: Complie buffer1
  shell: gcc buffer1.c -o buffer1 ; chmod 0711 buffer1
  become: yes
  become_user: user
  args:
    chdir: /home/client/

- name: Complie buffer2
  shell: g++ buffer2.cpp -o buffer2 ; chmod 0711 buffer2
  become: yes
  become_user: user
  args:
    chdir: /home/client/

...
